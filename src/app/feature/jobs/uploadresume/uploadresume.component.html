<div class="table-content px-3">
    <div class="d-flex justify-content-between job_header bg-white py-3 px-3 align-items-center">
       
      <div class="position-relative" style="width: 30%">
        <i class="pi pi-search position-absolute" style="top: 28%; left: 2%"></i>
        <input
          id="name"
          type="search"
          class="form-control_search"
          placeholder="Search Resumes"
          [(ngModel)]="searchQuery"
          (input)="filterJobs()"
        />
      </div>
      <div class="d-flex gap-2">
        <div class="p-field">
            <p-dropdown
              [options]="dropdownOptions"
             
              placeholder="Select Job Title"
            ></p-dropdown>
            <div
              *ngIf="
                userForm.get('dropdown')?.touched && userForm.get('dropdown')?.invalid
              "
              class="p-error"
            >
              <div *ngIf="userForm.get('dropdown').errors?.required">
                Selection is required.
              </div>
            </div>
          </div>
        
            <button class="btn" (click)="showDialog()">Upload Resume</button>
          
      </div>
     
  
    </div>
    <div class="table-responsive bg-white">
      <table class="table table-hover">
        <thead class="customApplicationColor">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Job Title</th>
            <th scope="col">Phone Number</th>
            <th scope="col">Skills</th>
            <th scope="col">Date & Time</th>
            <!-- <th scope="col">Job Id</th> -->
            <!-- <th scope="col">Status</th> -->
            <!-- <th scope="col">Action</th> -->
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let data of paginatedJobs; let i = index"
            [class.highlight]="data?.session_id === highlightedSessionId"
          >
            <td>{{ (currentPage - 1) * itemsPerPage + i + 1 }}</td>
            <td>{{ data?.user_name }}</td>
            <td>{{ data?.user_email }}</td>
            <td> Python Software Developer</td>
            <td> 8890955587</td>
            <td>Java, DBMS, Microservices, Full Stack</td>
            <td>{{ convertToIST(data?.created_at) }}</td>
            <!-- <td>{{ data?.job_id }}</td> -->
            <!-- <td>{{ data?.status }}</td> -->
            <!-- <td>
              <div class="d-flex gap-2">
                <span
                  class="interview_click_button d-flex align-items-center gap-3"
                  (click)="startMeeting(data?.user_name, data?.job_id, data?.session_id)"
                >
                  Start Interview
                </span>
              </div>
            </td> -->
          </tr>
        </tbody>
      </table>
    </div>
    <div class="pagination-container">
      <ul class="page">
        <li
          class="page__btn"
          [class.active]="currentPage > 1"
          (click)="currentPage > 1 && setPage(currentPage - 1)"
        >
          <span class="material-icons">chevron_left</span>
        </li>
        <li
          *ngFor="let page of pagesArray"
          class="page__numbers"
          [class.active]="currentPage === page"
          (click)="page !== '...' && setPage(page)"
        >
          {{ page }}
        </li>
        <li
          class="page__btn"
          [class.active]="currentPage < totalPages"
          (click)="currentPage < totalPages && setPage(currentPage + 1)"
        >
          <span class="material-icons">chevron_right</span>
        </li>
      </ul>
    </div>
  </div>
  <p-dialog
  header="Upload Resume"
  [(visible)]="visible"
  [style]="{ width: '50vw' }"
  (onHide)="closeModal()"
  [dismissableMask]="true"
  >
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="p-fluid">
      <div class="p-field">
        <label for="resume">Upload Resumes</label>
        <p-fileUpload
          name="resumes[]"
          accept=".pdf"
          customUpload="true"
          (uploadHandler)="onUpload($event)"
          multiple="multiple"
        ></p-fileUpload>
        <div *ngIf="userForm.get('resumes')?.touched && userForm.get('resumes')?.invalid" class="p-error">
          <div *ngIf="userForm.get('resumes').errors?.required">
            Resume is required.
          </div>
          <div *ngIf="userForm.get('resumes').errors?.extension">
            Please upload PDF files only.
          </div>
        </div>
      </div>
    </div>
    <p-footer>
      <div class="d-flex justify-content-end gap-2 mt-4">
        <button type="submit" class="btn" [disabled]="!userForm.valid">Upload</button>
        <button type="button" class="btn cancel" (click)="closeModal()">Cancel</button>
      </div>
    </p-footer>
  </form>
  
  </p-dialog>

  

  
  